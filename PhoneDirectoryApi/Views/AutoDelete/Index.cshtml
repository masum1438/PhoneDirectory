@model PhoneDirectoryApi.Models.ViewModels.AutoDeleteSettingsViewModel
@{
    ViewData["Title"] = "Auto-Delete Settings";
}

<h2>Auto-Delete Settings</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}

<form asp-action="Index" method="post" class="mt-3">
    <div class="form-group">
        <label asp-for="IsEnabled"></label>
        <input asp-for="IsEnabled" class="form-check-input" type="checkbox" />
    </div>

    <div class="form-group">
        <label asp-for="DeleteIntervalMinutes"></label>
        <input asp-for="DeleteIntervalMinutes" class="form-control" />
        <span asp-validation-for="DeleteIntervalMinutes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="ContactsToDelete"></label>
        <input asp-for="ContactsToDelete" class="form-control" />
        <span asp-validation-for="ContactsToDelete" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="DeleteOnlyInactive"></label>
        <input asp-for="DeleteOnlyInactive" class="form-check-input" type="checkbox" />
    </div>

    <button type="submit" class="btn btn-primary">Update Settings</button>
</form>

<form asp-action="ToggleAutoDelete" method="post" class="mt-3">
    <input type="hidden" name="isEnabled" value="@(Model.IsEnabled ? "false" : "true")" />
    <button type="submit" class="btn btn-warning">
        @(Model.IsEnabled ? "Disable Auto-Delete" : "Enable Auto-Delete")
    </button>
</form>
